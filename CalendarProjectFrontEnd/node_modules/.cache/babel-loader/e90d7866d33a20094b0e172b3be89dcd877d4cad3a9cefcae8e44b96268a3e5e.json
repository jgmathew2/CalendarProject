{"ast":null,"code":"import DatabaseConnector from \"./DatabaseConnector\";\nexport default class TaskDictionary {\n  contructor() {}\n  static addTask(date, Task) {\n    //date refers to hashcoded date, not date object \n\n    if (date == null) date = 0;\n    var dict = TaskDictionary.dict;\n    if (dict[date] == null) {\n      dict[date] = [Task];\n      this.sortArr();\n    } else {\n      dict[date].push(Task);\n    }\n    this.array.push(Task);\n\n    // Sorts array so LTB is sorted \n    this.sortArr();\n\n    // Sends global event, so taskbars know to update \n    this.updateTasks();\n\n    // Send post request to save current task in the database \n\n    DatabaseConnector.addTask(Task);\n  }\n  static updateTasks() {\n    const addTaskEvent = new CustomEvent(\"updatedTasks\", {\n      detail: {},\n      bubbles: true,\n      cancelable: true,\n      composed: true\n    });\n    // Mechanism to update TaskBars\n\n    document.dispatchEvent(addTaskEvent);\n  }\n  static removeTask(Task) {\n    let date = Task.date;\n    if (date == undefined) date = 0;\n    let taskIndex = this.findIndex(Task, this.dict[date]);\n    let arrayIndex = this.findIndex(Task, this.array);\n    if (taskIndex !== -1) {\n      this.dict[date].splice(taskIndex, 1);\n    }\n    if (arrayIndex !== -1) {\n      this.array.splice(arrayIndex, 1);\n    }\n    this.updateTasks();\n  }\n  static findIndex(object, array) {\n    for (let i = 0; i < array.length; i++) {\n      if (array[i] == object) return i;\n    }\n    return -1;\n  }\n\n  // Sorting mechanism doesn't work for sm reason\n  static sortArr() {\n    this.array.sort((c, d) => {\n      let a = c.date;\n      let b = d.date;\n      if (a == null) a = 0;\n      if (b == null) b = 0;\n      while (a % 100 === b % 100) {\n        a /= 100;\n        b /= 100;\n        if (a === 0) break;\n      }\n      return a % 100 - b % 100;\n    });\n  }\n  static getTasks(day) {\n    var dict = TaskDictionary.dict;\n    return dict[day];\n  }\n  static convertDate(date) {\n    //if(date == null) return 0;  \n\n    let value = \"\";\n    value += date.getDate();\n    if (date.getMonth() < 10) value += \"0\" + (date.getMonth() + 1);\n    value += date.getYear() % 100;\n\n    // Returns key to get data from dict \n    return parseInt(value);\n  }\n\n  // Returns date given number input \n  static revertDate(number) {\n    if (number == 0 || number == undefined) return null;\n    let year = number % 100 + 2000;\n    number /= 100;\n    let month = number % 100 - 1;\n    number /= 100;\n    let day = number % 100;\n    let date = new Date(year, month, day);\n    return date;\n  }\n}\n// Key should be date in the form of a int, day/month/year\nTaskDictionary.dict = {};\nTaskDictionary.array = [];","map":{"version":3,"names":["DatabaseConnector","TaskDictionary","contructor","addTask","date","Task","dict","sortArr","push","array","updateTasks","addTaskEvent","CustomEvent","detail","bubbles","cancelable","composed","document","dispatchEvent","removeTask","undefined","taskIndex","findIndex","arrayIndex","splice","object","i","length","sort","c","d","a","b","getTasks","day","convertDate","value","getDate","getMonth","getYear","parseInt","revertDate","number","year","month","Date"],"sources":["/Users/johanmathew/Documents/Github/CalendarProject/CalendarProjectFrontEnd/src/utility/TaskDictionary.js"],"sourcesContent":["import DatabaseConnector from \"./DatabaseConnector\";\n\nexport default class TaskDictionary {\n\n    // Key should be date in the form of a int, day/month/year\n\n    static dict = {}; \n\n    static array = []; \n\n    contructor() {}\n\n    static addTask(date, Task) {\n        //date refers to hashcoded date, not date object \n\n        if(date == null) date = 0; \n\n        var dict = TaskDictionary.dict; \n\n        if(dict[date] == null) {\n            dict[date] = [Task]; \n            \n            this.sortArr(); \n        }\n        else {\n            dict[date].push(Task); \n        } \n\n        this.array.push(Task); \n\n        // Sorts array so LTB is sorted \n        this.sortArr(); \n\n        // Sends global event, so taskbars know to update \n        this.updateTasks(); \n\n        // Send post request to save current task in the database \n\n        DatabaseConnector.addTask(Task); \n    }\n\n    static updateTasks() {\n        const addTaskEvent = new CustomEvent(\"updatedTasks\", {\n            detail: {},\n            bubbles: true,\n            cancelable: true,\n            composed: true,\n        });\n        // Mechanism to update TaskBars\n\n        document.dispatchEvent(addTaskEvent); \n\n    }\n\n    static removeTask(Task) {\n        let date = Task.date; \n\n        if(date == undefined) date = 0; \n\n        let taskIndex = this.findIndex(Task, this.dict[date]); \n        let arrayIndex = this.findIndex(Task, this.array); \n\n        if(taskIndex !== -1) {\n            this.dict[date].splice(taskIndex, 1); \n        }\n        if(arrayIndex !== -1) {\n            this.array.splice(arrayIndex, 1); \n        }\n\n        this.updateTasks();\n\n    }\n\n    static findIndex(object, array) {\n        for(let i = 0; i < array.length; i++) {\n            if(array[i] == object) return i; \n        }\n\n        return -1; \n    }\n\n    // Sorting mechanism doesn't work for sm reason\n    static sortArr() {\n    \n        this.array.sort((c, d) => {\n\n            let a = c.date; \n            let b = d.date; \n\n            if(a == null) a = 0; \n            if(b == null) b = 0; \n\n            while(a % 100 === b % 100) {\n                a /= 100; \n                b /= 100; \n\n                if(a === 0) break; \n            }\n\n            return a % 100 - b % 100; \n        }); \n    }\n\n    static getTasks(day) {\n        var dict = TaskDictionary.dict; \n        return dict[day]; \n    }\n\n    static convertDate(date) {\n        //if(date == null) return 0;  \n\n        let value = \"\"; \n\n        value += date.getDate(); \n\n        if(date.getMonth() < 10) value += \"0\" + (date.getMonth() + 1); \n\n        value += date.getYear() % 100; \n\n        // Returns key to get data from dict \n        return parseInt(value); \n\n    }\n\n    // Returns date given number input \n    static revertDate(number) {\n\n        if(number == 0 || number == undefined) return null; \n\n        let year = number % 100 + 2000; \n\n        number /= 100; \n        let month = number % 100 - 1; \n        number /= 100; \n        let day = number % 100; \n\n        let date = new Date(year, month, day); \n\n        return date; \n\n    }\n\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}